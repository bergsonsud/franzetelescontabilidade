version: '3'

services:
  app: 
    build:
      context: .
      dockerfile: Dockerfile    
    ports: 
      - "3004:3000"
    volumes:
      - .:/app
      - gem_cache:/usr/local/bundle/gems
    env_file: .env
    environment:
      RAILS_ENV: development
    networks:
        - networks        
volumes:
  app:  
  gem_cache:
    driver: local
    driver_opts:
      o: bind
      type: none
      device: /root/dockers/cache 
networks:
  networks:
    driver: bridge  
